<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C++学习论坛 - 交流与讨论</title>
    <link rel="stylesheet" href="css/style2.css">
    <link rel="stylesheet" href="css/forum.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">C++学习入门</div>
            <ul class="nav-links">
                <li><a href="index.html">首页</a></li>
                <li><a href="content/basics.html">基础语法</a></li>
                <li><a href="content/oop.html">面向对象</a></li>
                <li><a href="content/advanced.html">高级特性</a></li>
                <li><a href="content/effective.html">Effective C++</a></li>
                <li><a href="content/stl.html">STL源码剖析</a></li>
                <li><a href="content/quiz.html">题库</a></li>
                <li><a href="content/achievements.html">成就系统</a></li>
                <li><a href="forum.html" class="active">论坛</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle">账户 <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="#login-modal">登录</a></li>
                        <li><a href="#register-modal">注册</a></li>
                    </ul>
                </li>
                <li><a href="about.html">关于我们</a></li>
                <li><button id="theme-toggle" class="theme-toggle-btn"><i class="fas fa-moon"></i></button></li>
            </ul>
            <div class="burger">
                <div class="line1"></div>
                <div class="line2"></div>
                <div class="line3"></div>
            </div>
        </nav>
    </header>

    <!-- 主要内容区域 -->
    <main class="forum-container">
        <div class="forum-header">
            <h1>C++学习论坛</h1>
            <p>在这里与其他C++学习者交流讨论，解决学习中遇到的问题</p>
        </div>

        <!-- 发帖区域 -->
        <div class="post-form-container">
            <div class="post-form-header">
                <h2>发布新帖</h2>
            </div>
            
            <div id="not-logged-in-message" class="not-logged-in-message">
                <p><i class="fas fa-lock"></i> 请先<a href="#login-modal">登录</a>后再发布帖子</p>
            </div>
            
            <form id="post-form" class="post-form">
                <div class="form-group">
                    <label for="post-title">标题</label>
                    <input type="text" id="post-title" name="title" placeholder="请输入帖子标题" required>
                </div>
                
                <div class="form-group">
                    <label for="post-category">分类</label>
                    <select id="post-category" name="category" required>
                        <option value="">请选择分类</option>
                        <option value="basic">基础问题</option>
                        <option value="advanced">进阶讨论</option>
                        <option value="oop">面向对象</option>
                        <option value="stl">STL库</option>
                        <option value="debug">调试与错误</option>
                        <option value="other">其他话题</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="post-content">内容</label>
                    <textarea id="post-content" name="content" rows="6" placeholder="请输入帖子内容..." required></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn submit-btn">发布帖子</button>
                </div>
            </form>
        </div>

        <!-- 分类浏览区域 -->
        <div id="categories-view" class="categories-container">
            <div class="categories-header">
                <h2>论坛分类</h2>
                <p>选择感兴趣的分类进行浏览和讨论</p>
            </div>
            
            <div class="categories-grid" id="categories-grid">
                <!-- 分类卡片将通过JavaScript动态生成 -->
            </div>
        </div>

        <!-- 分类详情页面 -->
        <div id="category-detail-view" class="category-detail-container" style="display: none;">
            <div class="category-detail-header">
                <button id="back-to-categories" class="back-btn">
                    <i class="fas fa-arrow-left"></i> 返回分类
                </button>
                <div class="category-info">
                    <h2 id="current-category-name">分类名称</h2>
                    <p id="current-category-desc">分类描述</p>
                </div>
            </div>
            
            <div class="posts-container">
                <div class="posts-header">
                    <h3>帖子列表</h3>
                    <div class="sort-options">
                        <select id="sort-filter">
                            <option value="latest">最新发布</option>
                            <option value="oldest">最早发布</option>
                        </select>
                    </div>
                </div>
                
                <div id="posts-list" class="posts-list">
                    <!-- 帖子将通过JavaScript动态生成 -->
                </div>
            </div>
        </div>
    </main>

    <!-- 登录模态框 -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>用户登录</h2>
            <form id="login-form" class="auth-form">
                <div class="form-group">
                    <label for="login-username">用户名</label>
                    <input type="text" id="login-username" placeholder="请输入用户名" required>
                </div>
                <div class="form-group">
                    <label for="login-password">密码</label>
                    <input type="password" id="login-password" placeholder="请输入密码" required>
                </div>
                <div class="form-options">
                    <label class="checkbox-label">
                        <input type="checkbox"> 记住我
                    </label>
                    <a href="#forgot-password-modal" class="forgot-password">忘记密码?</a>
                </div>
                <button type="submit" class="modal-btn">登录</button>
                <p class="register-link">还没有账号? <a href="#register-modal">立即注册</a></p>
            </form>
        </div>
    </div>

    <!-- 注册模态框 -->
    <div id="register-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>用户注册</h2>
            <form id="register-form" class="auth-form">
                <div class="form-group">
                    <label for="register-username">用户名</label>
                    <input type="text" id="register-username" placeholder="请设置用户名" required>
                </div>
                <div class="form-group">
                    <label for="register-email">邮箱</label>
                    <input type="email" id="register-email" placeholder="请输入邮箱" required>
                </div>
                <div class="form-group">
                    <label for="register-password">密码</label>
                    <input type="password" id="register-password" placeholder="请设置密码" required>
                </div>
                <div class="form-group">
                    <label for="register-confirm-password">确认密码</label>
                    <input type="password" id="register-confirm-password" placeholder="请再次输入密码" required>
                </div>
                <div class="form-group agree-terms">
                    <input type="checkbox" id="agree-terms" name="agree-terms" required>
                    <label for="agree-terms">我同意<a href="#" class="terms-link">用户协议</a>和<a href="#" class="privacy-link">隐私政策</a></label>
                </div>
                <button type="submit" class="modal-btn">注册</button>
                <p class="login-link">已有账号? <a href="#login-modal">立即登录</a></p>
            </form>
        </div>
    </div>

    <!-- 忘记密码模态框 -->
    <div id="forgot-password-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>忘记密码</h2>
            <form id="forgot-password-form" class="auth-form">
                <div class="form-group">
                    <label for="forgot-email">邮箱</label>
                    <input type="email" id="forgot-email" placeholder="请输入注册邮箱" required>
                </div>
                <button type="submit" class="modal-btn">发送重置链接</button>
                <p class="login-link">想起密码了? <a href="#login-modal">立即登录</a></p>
            </form>
        </div>
    </div>

    <!-- 用户协议模态框 -->
    <div id="terms-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>用户协议</h2>
            <div class="modal-text">
                <p>欢迎使用C++学习网站。以下是我们的用户协议条款：</p>
                <p>1. 使用本网站即表示您同意遵守这些条款。</p>
                <p>2. 您必须年满13岁才能使用本网站。</p>
                <p>3. 您对您的账户安全负责。</p>
                <p>4. 禁止发布有害、违法或侵犯他人权利的内容。</p>
                <p>5. 我们保留随时修改这些条款的权利。</p>
            </div>
            <button class="btn agree-btn">我同意</button>
        </div>
    </div>

    <!-- 隐私政策模态框 -->
    <div id="privacy-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>隐私政策</h2>
            <div class="modal-text">
                <p>我们重视您的隐私。以下是我们的隐私政策：</p>
                <p>1. 我们收集的信息：用户名、邮箱地址。</p>
                <p>2. 我们如何使用您的信息：提供服务、改进网站、发送重要通知。</p>
                <p>3. 我们不会与第三方共享您的个人信息。</p>
                <p>4. 我们采取安全措施保护您的信息。</p>
                <p>5. 您有权访问和修改您的个人信息。</p>
            </div>
            <button class="btn agree-btn">我同意</button>
        </div>
    </div>

    <!-- 提示消息 -->
    <div id="toast-message" class="toast"></div>

    <!-- JavaScript 文件 -->
    <!-- 数据存储管理 -->
    <script src="js/data-storage.js"></script>
    <!-- 主脚本 -->
    <script src="js/main2.js"></script>
    <!-- AI助手 -->
    <script src="js/ai-assistant.js"></script>
    <!-- 论坛功能 -->
    <script src="js/forum.js"></script>
    <!-- 全局数据管理功能 -->
    <script src="js/data-management-ui.js"></script>

    <footer>
        <p>&copy; 2025 C++学习入门网站. 保留所有权利.</p>
    </footer>
</body>
</html>